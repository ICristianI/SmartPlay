{{> header}}

<div class="container mt-5 text-center">
    <!-- Botón de Me Gusta -->
    <div class="d-flex justify-content-between align-items-center mb-3">
        <h1 class="mb-0 text-start">{{ juego.nombre }}</h1>
      

        {{#User}}
        <!-- Botón de Me Gusta a la derecha -->
        <form id="likeForm" onsubmit="return false;">
          <input type="hidden" name="_csrf" value="{{token}}"/>
          <input type="hidden" id="juegoId" value="{{juego.id}}">
          <button id="likeButton" class="btn btn-link" onclick="darMeGusta()" style="text-decoration: none;">
            <span 
            id="corazon" 
            style="font-size: 2rem;" 
            data-liked="{{#tieneLike}}true{{/tieneLike}}{{^tieneLike}}false{{/tieneLike}}">
            {{#tieneLike}}❤️{{/tieneLike}}{{^tieneLike}}🤍{{/tieneLike}}
          </span>
            <span id="contadorLikes" class="ms-2 text-danger" style="font-size: 1.5rem;">{{juego.meGusta}}</span>
          </button>
        </form>
        {{/User}}
      </div>
      

    <!-- Imagen identificativa del juego -->
    <div class="mb-3 ">
        <img src="/images/generalImages/imagenAhorcado.png" id="imagenJuego" alt="Imagen del juego" class="img-fluid rounded shadow navbar-custom" style="max-height: 250px;">
    </div>

    <p><strong>Intentos restantes:</strong> <span id="intentosRestantes">{{ juego.maxIntentos }}</span></p>

    <!-- Espacios para la palabra -->
    <div id="palabraAdivinada" class="d-flex justify-content-center flex-wrap mb-4"></div>

    <!-- Teclado virtual en dos filas -->
    <div id="teclado" class="d-flex flex-column align-items-center"></div>

    <!-- Botón para reiniciar -->
    <button class="btn btn-primary mt-4" onclick="reiniciarJuego()">Reiniciar Juego</button>

    <!-- Botón para descargar PDF -->
    <button class="btn btn-secondary mt-4" onclick="descargarPDF()">Descargar en PDF</button>

    <!-- Mensaje de resultado -->
    <div id="mensaje" class="mt-4"></div>

    <!-- Volver -->
    <button class="btn btn-secondary" onclick="window.history.back();">
        Volver
      </button>
</div>

<script>
    const juego = {
        palabra: "{{ juego.palabra }}",
        maxIntentos: "{{ juego.maxIntentos }}",
        nombre: "{{ juego.nombre }}",
        descripcion: "{{ juego.descripcion }}"
    };
</script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
<script src="/js/ahorcado.js"></script>
<script src="/js/like.js"></script>

{{> footer}}
