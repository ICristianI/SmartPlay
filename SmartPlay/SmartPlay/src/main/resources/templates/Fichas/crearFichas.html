{{> header}}

<div class="container mt-4">
  <h1 class="text-center mb-4">Crear Ficha Interactiva</h1>
  <form action="/f/guardar" method="POST" enctype="multipart/form-data" class="shadow p-4 rounded">
    <!-- Nombre de la ficha -->
    <div class="mb-3">
      <label for="nombre" class="form-label">Nombre de la Ficha</label>
      <input 
        type="text" 
        class="form-control" 
        id="nombre" 
        name="nombre" 
        placeholder="Escribe el nombre de la ficha" 
        maxlength="50" 
        required 
      />
    </div>

    <!-- Idioma -->
    <div class="mb-3">
      <label for="idioma" class="form-label">Idioma</label>
      <input 
        type="text" 
        class="form-control" 
        id="idioma" 
        name="idioma" 
        placeholder="Ej: Español, Inglés" 
        maxlength="20" 
        required 
      />
    </div>

    <!-- Asignatura -->
    <div class="mb-3">
      <label for="asignatura" class="form-label">Asignatura</label>
      <input 
        type="text" 
        class="form-control" 
        id="asignatura" 
        name="asignatura" 
        placeholder="Ej: Matemáticas, Ciencias" 
        maxlength="30" 
        required 
      />
    </div>

    <!-- Contenido -->
    <div class="mb-3">
      <label for="contenido" class="form-label">Contenido</label>
      <textarea 
        class="form-control" 
        id="contenido" 
        name="contenido" 
        rows="3" 
        placeholder="Describe el contenido de la ficha" 
        maxlength="500" 
        required
      ></textarea>
    </div>

    <!-- Descripción -->
    <div class="mb-3">
      <label for="descripcion" class="form-label">Descripción</label>
      <textarea 
        class="form-control" 
        id="descripcion" 
        name="descripcion" 
        rows="3" 
        placeholder="Breve descripción de la ficha" 
        maxlength="150" 
        required
      ></textarea>
    </div>

  <!-- Imagen de fondo -->
<div class="mb-3">
  <label for="A" class="form-label">Imagen de Fondo</label>
  <div class="d-flex flex-column align-items-center">
    <!-- Previsualización de la imagen -->
    <div class="border border-secondary rounded mb-3" style="width: 200px; height: 150px; overflow: hidden;">
      <img id="previewImagen" src="" alt="Vista previa" class="w-100 h-100 object-cover" style="display: none;" />
    </div>
    <!-- Botón personalizado para subir la imagen -->
    <label for="imagenFondo" class="btn btn-primary navbar-custom">
      Seleccionar Imagen
      <input 
        type="file" 
        class="d-none" 
        id="imagenFondo" 
        name="imagenFondo" 
        onchange="mostrarVistaPrevia(event)" 
        required 
      />
    </label>
  </div>
  <small class="form-text text-muted text-center">Selecciona una imagen que servirá como fondo para la ficha.</small>
</div>

    <!-- Elementos superpuestos -->
    <div class="mb-3">
      <label for="elementosSuperpuestos" class="form-label">Elementos Superpuestos</label>
      <textarea 
        class="form-control" 
        id="elementosSuperpuestos" 
        name="elementosSuperpuestos" 
        rows="3" 
        placeholder="Describe los elementos superpuestos (en formato JSON si aplica)"
      ></textarea>
    </div>

    <!-- Botón para guardar -->
    <div class="text-center">
      <button type="submit" class="btn btn-primary navbar-custom">Guardar Ficha</button>
    </div>
  </form>
</div>
<script src="/js/ImagenPreview.js"></script>


{{> footer}}
