{{> header}}

<div class="container mt-5">
    <div class="row align-items-center">
        <!-- Columna para los datos -->
        <div class="col-md-8">
            <h1>Bienvenido, {{user.nombre}}!</h1>
            <p><strong>Correo:</strong> {{user.email}}</p>
            <p><strong>Rol:</strong> {{user.roles}}</p>
            <p><strong>Edad:</strong> {{user.edad}}</p>
        </div>
        <!-- Columna para la imagen -->
        <div class="col-md-4 text-center">
            <form id="profilePhotoForm" action="/users/upload" method="post" enctype="multipart/form-data">
                <img 
                    src="/users/image" 
                    alt="Foto de perfil" 
                    class="img-thumbnail rounded-circle" 
                    style="width: 200px; height: 200px; object-fit: cover; cursor: pointer;"
                    onclick="document.getElementById('photo').click();"
                />

                <input 
                    type="file" 
                    id="photo" 
                    name="photo" 
                    accept="image/*" 
                    style="display: none;" 
                />
                <button type="submit" style="display: none;">Submit</button>
            </form>
            
        </div>
    </div>
</div>
<script>
    document.getElementById('photo').addEventListener('change', function() {
        document.getElementById('profilePhotoForm').submit();
    });
</script>

<script src="/js/PerfilCheck.js"></script>

{{> footer}}
